---
import { Image } from 'astro:assets'
import { getCollection } from 'astro:content'
import astroSVG from '@assets/logos/astro.svg'
import tsSVG from '@assets/logos/typescript-color.svg'
import vercelSVG from '@assets/logos/vercel.svg'

const projects = await getCollection('projects')
---

<div class="border border-slate-700/70 rounded-lg p-6">
  <h2 class="text-lg inline-flex items-center gap-2">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
      class="lucide lucide-square-code"
      ><rect width="18" height="18" x="3" y="3" rx="2"></rect><path
        d="m10 10-2 2 2 2"></path><path d="m14 14 2-2-2-2"></path></svg
    >Projects
  </h2>
  <div class="grid grid-cols-1 gap-4 mt-4">
    {
      projects.map((project) => {
        return (
          <a
            class="w-full hover:bg-slate-800 rounded-lg p-4"
            target="_blank"
            href={project.data.repo_url}
          >
            <div class="lg:flex justify-start gap-y-4 lg:gap-4">
              <div class="w-full">
                <h3 class="text-primary text-lg">{project.data.title}</h3>
                <p class="text-sm text-slate-400">{project.data.description}</p>
                <div class="mt-2 text-white flex gap-2 justify-between items-center">
                  <div class="flex gap-2">
                    <img class="h-6 w-6 " src={astroSVG.src} />
                    <img class="h-6 w-6 " src={tsSVG.src} />
                  </div>
                  <div class="flex justify-start items-center gap-2 text-sm">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      class="lucide lucide-link-2"
                    >
                      <>
                        <path d="M9 17H7A5 5 0 0 1 7 7h2" />
                        <path d="M15 7h2a5 5 0 1 1 0 10h-2" />
                        <line x1="8" x2="16" y1="12" y2="12" />
                      </>
                    </svg>
                    github.com
                  </div>
                </div>
              </div>
            </div>
          </a>
        )
      })
    }
    <span class="text-slate-400 text-sm">More projects coming soon...</span>
  </div>
</div>
